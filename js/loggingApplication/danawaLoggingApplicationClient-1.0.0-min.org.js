var DANAWA_LOGGING_APPLICATION_CLIENT=(function(){var a="danawa-loggingApplicationClient";var l="";var c=false;var g="";var k=0;var f=function(o){if(e()===false){console.log(o);}};var e=function(){if(location.href.indexOf("-local")>=0||location.href.indexOf("file:")>=0){return false;}else{return true;}};var n=function(){return e()===true?"las":"las-nadmin";};var b=function(){try{var r=a+"=";var t="";var q=document.cookie;if(q.length>0){var s=q.indexOf(r);var o=0;if(s>=0){s+=r.length;o=q.indexOf(";",s);if(o<0){o=q.length;}t=q.substring(s,o);}}return t;}catch(p){throw new Error(p.message);}};var d=function(){try{document.cookie=a+"="+escape(l)+"; path=/; expires=Sun, 30 Jan 2100 15:00:00 GMT; domain="+escape(".danawa.com");}catch(o){throw new Error(o.message);}};var j=function(){var o=i();if(o!=null){o.open("GET","http://"+n()+".danawa.com/log/issueBid.json");if(o instanceof XMLHttpRequest){o.onreadystatechange=m(d,h);}else{o.timeout=0;o.onload=m(d,h);o.onerror=function(){};o.ontimeout=function(){};o.onprogress=function(){};}setTimeout(function(){o.send();},k);}else{throw new Error("통신 환경에 문제가 있습니다.");}};var h=function(){var o=i();if(o!=null){var p="keyword="+encodeURIComponent(g)+"&bid="+encodeURI(l);o.open("POST","http://"+n()+".danawa.com/log/logging.json");if(o instanceof XMLHttpRequest){o.onreadystatechange=m();o.setRequestHeader("Content-type","application/x-www-form-urlencoded");}else{o.timeout=0;o.onload=m();o.onerror=function(){};o.ontimeout=function(){};o.onprogress=function(){};p+="&referer="+encodeURIComponent(location.toString());}setTimeout(function(){o.send(p);},k);}else{throw new Error("통신 환경에 문제가 있습니다.");}};var m=function(){var o=arguments;return function(){var q=this;if(q instanceof XMLHttpRequest){if(q.readyState===4){if(q.status===200){if(o.length===0){if(c===true){alert(q.responseText);}}else{if(o.length===2&&o[0] instanceof Function&&o[1] instanceof Function){l=JSON.parse(q.responseText).data;if(c===true){alert(q.responseText);}}else{throw new Error("파라미터 구성에 문제가 있습니다.");}}for(var p=0;p<o.length;p++){o[p]();}}else{throw new Error("통신 결과에 문제가 있습니다.");}}}else{if(o.length===0){if(c===true){alert(q.responseText);}}else{if(o.length===2&&o[0] instanceof Function&&o[1] instanceof Function){l=JSON.parse(q.responseText).data;if(c===true){alert(q.responseText);}}else{throw new Error("파라미터 구성에 문제가 있습니다.");}}for(var p=0;p<o.length;p++){o[p]();}}};};var i=function(){var o=null;var p=navigator.userAgent.toLowerCase();if(p.indexOf("msie")>=0){if(p.indexOf("msie 8.0")>=0||p.indexOf("msie 9.0")>=0){o=new XDomainRequest();if(c===true){alert("XDomainRequest");}}else{o=new XMLHttpRequest();if(c===true){alert("XMLHttpRequest");}}}else{o=new XMLHttpRequest();}if(c===true){alert("XMLHttpRequest");}return o;};return{execute:function(o){if(arguments.length!==1||typeof arguments[0]!=="string"||arguments[0].length===0){throw new Error("매개변수에 문제가 있습니다.");}g=o;l=b();if(l.length===0){j();}else{h();}},setDelay:function(o){if(typeof o==="number"){k=o;}else{throw new Error("매개변수에 문제가 있습니다.");}},useDebug:function(o){if(arguments.length!==1||typeof arguments[0]!=="boolean"){throw new Error("매개변수에 문제가 있습니다.");}c=o;}};})();